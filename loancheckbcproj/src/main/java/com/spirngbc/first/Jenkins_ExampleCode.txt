pipeline {
    agent any  
    environment {
        VERSION="1.0.01"
    }
    tools {
        
        jdk "pavfeb20java"
        maven "pavfeb20maven"
    }
    parameters {
        
        string(name: 'DEPLOY_ENV', defaultValue: 'staging', description: '')
    }
    stages{
        stage("check out"){
            steps{
             git branch: 'main', credentialsId: 'pgitcre', url: 'https://github.com/pavtestdummy/myfebbctwo19.git'   
            }
        }
        // buikd stage 
        stage("build"){
            steps{
               //  echo "build stage ${params.DEPLOY_ENV}"
               echo "${env.WORKSPACE}"
               bat "mvn clean package -f ${env.WORKSPACE}\\loancheckbcproj\\pom.xml"
            }
               }
        stage("RUN"){
                   steps{
               //  echo "build stage ${params.DEPLOY_ENV}"
               echo "${env.WORKSPACE}"
               bat "java -jar ${env.WORKSPACE}\\loancheckbcproj\\target\\LoanCheckBcProj.jar"
           }
        }

        // end
    
    }
    post {
        
        always{
                 echo 'always'
        }
        success{
                echo 'success'
        }
        
        failure {
               echo 'failure'
        }
    }
}